<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>きき耳ずきん</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@200;300&family=Noto+Serif+JP:wght@200;600&family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,200,0,0&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        :root {
            --background: #fdfdfd; --foreground: #1a1a1a; --card: #ffffff; --border: #e4e4e7;
            --muted-foreground: #71717a; --radius-xl: 0.75rem; --font-serif: 'Noto Serif JP', serif; --font-sans: 'Noto Sans JP', sans-serif;
            --accent-color: #eb6101; --reply-bg: #f7f7f7; --danger-color: #ef4444;
        }
        /* デフォルトは 200 */
        body { font-family: var(--font-sans); background-color: var(--background); color: var(--foreground); margin: 0; padding: 0; line-height: 1.8; display: flex; flex-direction: column; align-items: center; font-weight: 200; -webkit-text-size-adjust: 100%; -webkit-font-smoothing: antialiased; }
        
        header { width: 100%; max-width: 48rem; padding: 4rem 1.5rem 1rem; display: flex; justify-content: space-between; align-items: center; box-sizing: border-box; }
        h1 { font-family: var(--font-serif); font-size: 1.1rem; font-weight: 200; letter-spacing: 0.3rem; margin: 0; cursor: pointer; }
        
        .btn-outline { display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem; padding: 0.5rem 1rem; border-radius: 0.5rem; font-size: 0.75rem; border: 1px solid var(--border); background: white; cursor: pointer; color: var(--foreground); transition: opacity 0.3s; width: fit-content; font-family: var(--font-sans); font-weight: 200; }
        .btn-danger { color: var(--danger-color); border-color: var(--border); }
        main { width: 100%; max-width: 48rem; display: flex; flex-direction: column; align-items: center; }
        
        .intro-card { background: white; border: 1px solid var(--border); border-radius: var(--radius-xl); padding: 2.5rem 2rem; margin: 0 1.5rem 1rem; max-width: 42rem; box-sizing: border-box; }
        /* イントロ文章は 200 */
        .intro-text { font-family: var(--font-sans); font-size: 0.9rem; color: #333; line-height: 2.5; letter-spacing: 0.05rem; white-space: pre-wrap; font-weight: 200; }
        .hero-img { width: 100%; max-width: 48rem; height: auto; margin-bottom: 2rem; padding: 0; box-sizing: border-box; }
        
        .editor-box { background: white; border: 1px solid var(--border); border-radius: var(--radius-xl); padding: 1.5rem; width: 100%; max-width: 42rem; box-sizing: border-box; margin-bottom: 2rem; }
        .editor-wrapper { width: calc(100% - 3rem); margin: 0 1.5rem; display: flex; flex-direction: column; align-items: center; }
        
        input[type="text"], textarea { width: 100%; padding: 0.8rem; border: 1px solid #eee; border-radius: 0.4rem; box-sizing: border-box; font-family: var(--font-sans); font-size: 0.9rem; margin-bottom: 1rem; background: #fafafa; font-weight: 200; }
        
        /* 特定箇所：300 を適用 */
        .btn-submit { background: var(--foreground); color: white; padding: 1rem; border-radius: 3rem; width: 100%; border: none; cursor: pointer; font-family: var(--font-sans) !important; font-weight: 300 !important; font-size: 0.9rem; letter-spacing: 0.2rem; margin-top: 1rem; }
        .btn-draft { background: white; color: var(--foreground); border: 1px solid var(--foreground); padding: 0.8rem; border-radius: 3rem; width: 100%; cursor: pointer; font-family: var(--font-sans) !important; font-weight: 300 !important; font-size: 0.9rem; letter-spacing: 0.2rem; margin-top: 0.5rem; }
        .btn-cancel { text-align:center; padding:1.5rem 1rem 0; cursor:pointer; font-size:0.8rem; color:var(--muted-foreground); font-family: var(--font-sans) !important; font-weight: 300 !important; }
        
        /* 投稿カード内の場所の名前：300 */
        .place-name-bold { font-family: var(--font-sans) !important; font-weight: 300 !important; font-size: 0.95rem; letter-spacing: 0.08rem; line-height: 1.4; color: var(--foreground); }

        .pin-actions { display: flex; flex-direction: row; gap: 0.8rem; margin-bottom: 1.5rem; width: 100%; }
        .pin-actions .btn-outline { flex: 1; padding: 0.8rem; box-sizing: border-box; }
        @media (max-width: 600px) { .pin-actions { flex-direction: column; } }

        #posts-list, #mypage-posts-list { width: 100%; max-width: 42rem; padding: 1rem 1.5rem 5rem; box-sizing: border-box; }
        .card { background-color: var(--card); border: 1px solid var(--border); border-radius: var(--radius-xl); margin-bottom: 2rem; overflow: hidden; }
        .card-inner { padding: 1.5rem; }
        
        .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1.2rem; }
        .card-header-main { display: flex; flex-direction: column; gap: 0.3rem; flex: 1; }
        
        .author-info-row { display: flex; align-items: center; gap: 0.8rem; font-size: 0.75rem; color: var(--muted-foreground); font-weight: 200; }
        /* 投稿本文は 200 */
        .card-content { font-family: var(--font-sans); font-size: 0.9rem; line-height: 2; white-space: pre-wrap; color: #333; margin-bottom: 0.5rem; font-weight: 200; }
        
        .reply-section { background-color: var(--reply-bg); padding: 1rem; border-top: 1px solid var(--border); display: flex; flex-direction: row; justify-content: center; gap: 1rem; }
        
        /* 省略（以下、既存のスクリプトなどは共通） */
    </style>
</head>
